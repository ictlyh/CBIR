**Content Based Image Retrieval**

### 程序总体流程 ###



- 初始化： ImageLib，根据 libDir 递归读入并计算每个图像的特征，加入特征库，将特征库写入特征库文件。



- 检索：计算检索图像特征，使用 Similarity 类 计算检索图像和图像库图像的相似性，返回 Top K 个图像。



- 二次检索：根据正反馈重新分配颜色特征和形状特征的权重重新检索；或者用反馈图像和源检索图像重新生成查询特征并重新检索

### 使用方法 ###

**注意：目前只支持 Windows 64 位系统**

下载 CBIR.rar 文件解压后进入文件夹 CBIR

#### 生成特征库进行检索 ####
1. 双击 **“CBIR.exe”** 打开软件

1. 点击 “浏览” 选择图像所在文件夹。**注意：由于还没有优化，性能比较差，希望图像20张以内**

1. 点击 **“Build”** 提取图像特征;等待几分钟后提示 **“构建特征库完成”**,期间可能会出现 "无响应" 现象，等一会就可以了

1. 点击 **“选择查询图像”** 的 **“浏览”** 随便选择一张图像

1. 点击 **“Search”** 开始搜索;检索结果会显示在右边，按照相似性返回最相关的8个

1. 点击 **“上一页” “下一页”** 浏览

1. 二次检索(查询向量相关反馈):可以选中你觉得和原图像比较相似的图像下面的复选框，点击 **"Research"** 进行二次检索。 可以看看检索结果是不是有提高

1. 二次检索(特征权重相关反馈)：也可以根据第一次查询的结果，在颜色权重中填入数值重新分配权重，再点击 **"Searcher"** 重新检索。

#### 通过加装特征库文件进行检索 ####
1. 关闭软件后，再次打开，这时可以点击 **“选中库文件”** 的 **“选择”**，选择该文件夹中上一次构建图像特征库生成的文件 **“imagefeaturelib.txt”**，点击 **“Load”** 加载特征，大概要1分钟，会提示加载成功或失败，加载成功后可以再次选择查询图片进行检索。
1. 如果没有选定库文件，默认加载当前目录的**“imagefeaturelib.txt”** 文件
1. 如果要重新生成图像特征库，可以点击 **“选择库目录”** 中的 **“浏览”** 选择新的文件夹。

源代码：[https://github.com/ictlyh/CBIR](https://github.com/ictlyh/CBIR)  
Powered by：罗远浩 黄博阳